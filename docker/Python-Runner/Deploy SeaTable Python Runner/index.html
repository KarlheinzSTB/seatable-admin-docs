
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="SeaTable">
      
      
        <link rel="canonical" href="https://manual.seatable.io/docker/Python-Runner/Deploy%20SeaTable%20Python%20Runner/">
      
      <link rel="icon" href="../../../media/seatable-favicon.ico">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.3.0">
    
    
      
        <title>Deploy - SeaTable Admin Manual</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploy-seatable-python-runner" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="SeaTable Admin Manual" class="md-header__button md-logo" aria-label="SeaTable Admin Manual" data-md-component="logo">
      
  <img src="../../../media/SeaTable256-256.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SeaTable Admin Manual
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deploy
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/seatable/seatable-admin-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    seatable/seatable-admin-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="SeaTable Admin Manual" class="md-nav__button md-logo" aria-label="SeaTable Admin Manual" data-md-component="logo">
      
  <img src="../../../media/SeaTable256-256.png" alt="logo">

    </a>
    SeaTable Admin Manual
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/seatable/seatable-admin-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    seatable/seatable-admin-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../home/" class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Edition/Deploy%20SeaTable-DE%20with%20Docker/" class="md-nav__link">
        Developer Edition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Enterprise-Edition/Deploy%20SeaTable-EE%20with%20Docker/" class="md-nav__link">
        Enterprise Edition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Cluster/SeaTable%20Cluster/" class="md-nav__link">
        Cluster
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Python Runner
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python Runner" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Python Runner
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Deploy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Deploy
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#components" class="md-nav__link">
    Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-of-seatable-python-runner" class="md-nav__link">
    Setup of SeaTable Python Runner
  </a>
  
    <nav class="md-nav" aria-label="Setup of SeaTable Python Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-the-python-runner-package" class="md-nav__link">
    Downloading the Python Runner Package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-prerequisites" class="md-nav__link">
    Installing the Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-the-python-runner-docker-image" class="md-nav__link">
    Downloading the Python Runner Docker Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializing-python-runner" class="md-nav__link">
    Initializing Python Runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-configuration-file" class="md-nav__link">
    Modifying the Configuration File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-seatable-python-runner" class="md-nav__link">
    Starting SeaTable Python Runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tweaking-the-python-runner" class="md-nav__link">
    Tweaking the Python Runner
  </a>
  
    <nav class="md-nav" aria-label="Tweaking the Python Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uwsgi-configuration" class="md-nav__link">
    uWSGI configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-seatable-faas-scheduler" class="md-nav__link">
    Setup SeaTable FAAS Scheduler
  </a>
  
    <nav class="md-nav" aria-label="Setup SeaTable FAAS Scheduler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-docker-compose" class="md-nav__link">
    Installing Docker Compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-the-fass-scheduler-image" class="md-nav__link">
    Downloading the FASS Scheduler Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-modifying-docker-composeyml" class="md-nav__link">
    Downloading and Modifying docker-compose.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializing-the-database" class="md-nav__link">
    Initializing the Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-configuration-file-of-the-faas-scheduler" class="md-nav__link">
    Modifying the Configuration File of the FAAS Scheduler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-the-faas-scheduler" class="md-nav__link">
    Starting the FAAS Scheduler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-configuration-file-of-seatable" class="md-nav__link">
    Modifying the Configuration File of SeaTable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-seatable" class="md-nav__link">
    Restarting SeaTable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-configuration-options-of-scheduler" class="md-nav__link">
    More Configuration Options of Scheduler
  </a>
  
    <nav class="md-nav" aria-label="More Configuration Options of Scheduler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-the-https" class="md-nav__link">
    Deploy the https
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-runner-and-faas-scheduler-faq" class="md-nav__link">
    Python Runner and FAAS Scheduler FAQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Update%20SeaTable%20Python%20Runner/" class="md-nav__link">
        Upgrading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Customize%20SeaTable%20Python%20Runner/" class="md-nav__link">
        Customization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Enterprise-Edition/migrate_from_seatable_ce_server/" class="md-nav__link">
        Migrate SeaTable DE to EE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Configuration and Customization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration and Customization" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Configuration and Customization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/ccnet-conf/" class="md-nav__link">
        ccnet.conf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/seafile-conf/" class="md-nav__link">
        seafile.conf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/dtable_web_settings/" class="md-nav__link">
        dtable_web_settings.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/dtable-events-conf/" class="md-nav__link">
        dtable-events.conf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/dtable_server_config/" class="md-nav__link">
        dtable_server_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/seatable-controller-conf/" class="md-nav__link">
        seatable-controller.conf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/dtable_db_conf/" class="md-nav__link">
        dtable-db.conf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/integrate-with-seafile/" class="md-nav__link">
        Integrate with Seafile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/templates_and_manual/" class="md-nav__link">
        Templates and manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/sending_email/" class="md-nav__link">
        Email sending
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_11" type="checkbox" id="__nav_3_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_11">
          Enterprise
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Enterprise" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_11">
          <span class="md-nav__icon md-icon"></span>
          Enterprise
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/enterprise/roles_permissions/" class="md-nav__link">
        Roles and Permissions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/enterprise/ldap/" class="md-nav__link">
        LDAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/enterprise/oauth/" class="md-nav__link">
        OAuth
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/enterprise/saml/" class="md-nav__link">
        SAML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../config/enterprise/S3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Administration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Administration" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Administration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../maintain/account/" class="md-nav__link">
        Account
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../maintain/logs/" class="md-nav__link">
        Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../maintain/backup_recovery/" class="md-nav__link">
        Backup and recovery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../maintain/clean_database/" class="md-nav__link">
        Clean database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Upgrade
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Upgrade" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Upgrade
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../upgrade/upgrade_manual/" class="md-nav__link">
        Upgrade manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../upgrade/extra-upgrade-notice/" class="md-nav__link">
        Extra upgrade notices
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          ChangeLog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ChangeLog" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          ChangeLog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/server-changelog/" class="md-nav__link">
        SeaTable Developer Edition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/changelog-for-seatable-professional-server/" class="md-nav__link">
        SeaTable Enterprise Edition
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/roadmap/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../limitations/system_limitations/" class="md-nav__link">
        System Limitations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../dtable-server-license/" class="md-nav__link">
        dtable-server-license
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#components" class="md-nav__link">
    Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-of-seatable-python-runner" class="md-nav__link">
    Setup of SeaTable Python Runner
  </a>
  
    <nav class="md-nav" aria-label="Setup of SeaTable Python Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-the-python-runner-package" class="md-nav__link">
    Downloading the Python Runner Package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-prerequisites" class="md-nav__link">
    Installing the Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-the-python-runner-docker-image" class="md-nav__link">
    Downloading the Python Runner Docker Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializing-python-runner" class="md-nav__link">
    Initializing Python Runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-configuration-file" class="md-nav__link">
    Modifying the Configuration File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-seatable-python-runner" class="md-nav__link">
    Starting SeaTable Python Runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tweaking-the-python-runner" class="md-nav__link">
    Tweaking the Python Runner
  </a>
  
    <nav class="md-nav" aria-label="Tweaking the Python Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uwsgi-configuration" class="md-nav__link">
    uWSGI configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-seatable-faas-scheduler" class="md-nav__link">
    Setup SeaTable FAAS Scheduler
  </a>
  
    <nav class="md-nav" aria-label="Setup SeaTable FAAS Scheduler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-docker-compose" class="md-nav__link">
    Installing Docker Compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-the-fass-scheduler-image" class="md-nav__link">
    Downloading the FASS Scheduler Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-modifying-docker-composeyml" class="md-nav__link">
    Downloading and Modifying docker-compose.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializing-the-database" class="md-nav__link">
    Initializing the Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-configuration-file-of-the-faas-scheduler" class="md-nav__link">
    Modifying the Configuration File of the FAAS Scheduler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-the-faas-scheduler" class="md-nav__link">
    Starting the FAAS Scheduler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-configuration-file-of-seatable" class="md-nav__link">
    Modifying the Configuration File of SeaTable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-seatable" class="md-nav__link">
    Restarting SeaTable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-configuration-options-of-scheduler" class="md-nav__link">
    More Configuration Options of Scheduler
  </a>
  
    <nav class="md-nav" aria-label="More Configuration Options of Scheduler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-the-https" class="md-nav__link">
    Deploy the https
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-runner-and-faas-scheduler-faq" class="md-nav__link">
    Python Runner and FAAS Scheduler FAQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/seatable/seatable-admin-docs/blob/main/manual/docker/Python-Runner/Deploy SeaTable Python Runner.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="deploy-seatable-python-runner">Deploy SeaTable Python Runner<a class="headerlink" href="#deploy-seatable-python-runner" title="Permanent link">&para;</a></h1>
<h2 id="components">Components<a class="headerlink" href="#components" title="Permanent link">&para;</a></h2>
<p>The execution of Python scripts in SeaTable requires the interaction of SeaTable with two other components. The functions of SeaTable, SeaTable FAAS Scheduler, and SeaTable Python Runner and their relationship are as follows:</p>
<ul>
<li>SeaTable: Provides the editor to create, save, import/export, and modify Python scripts. When a user clicks to run a script, SeaTable sends a requests to the SeaTable FAAS Scheduler.</li>
<li>SeaTable FAAS Scheduler: Handles incoming requests from SeaTable, schedules tasks, and sends requests to the SeaTable Python Runner. Additionally, it saves and counts the results of script runs. As such, it is equivalent to a master node.</li>
<li>SeaTable Python Runner: Runs the scripts as tasked by the FAAS Scheduler. When the SeaTable Python Runner receives a request, it downloads the script content and starts a Docker container to run the script. After script execution, the container is destroyed for data security. As such, it is equivalent to a worker node.</li>
</ul>
<p><img alt="python-runner" src="../../../images/auto-upload/python-runner.png" /></p>
<p>If SeaTable runs many Python scripts and timely script execution is essential, multiple Python Runners can be deployed with a load balance component distributing the load.</p>
<p><img alt="python-runner-cluster" src="../../../images/auto-upload/python-runner-cluster.png" /></p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<p>SeaTable FAAS Scheduler and SeaTable Python Runner require 2 cores and 4GB RAM. These resources are a minimum requirement. With rising numbers of executed Python scripts, the allocated resources should be upped.</p>
<p>It is strongly recommended to install SeaTable FAAS Scheduler and Python Runner on a separate host. Running these two components on the same machine as SeaTable is very likely to cause conflicts.</p>
<p>These instructions assume that no other services are installed on the host, especially no other services listening on port 80 and 443.</p>
<p>SeaTable FAAS Scheduler and Python Runner use Docker and Docker Compose. Docker must be 20.04 or more recent. Verify the installed Docker version using <code>docker --version</code>. If your version is too old, update following the <a href="https://docs.docker.com/engine/install/centos/">official instructions</a>.</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<p>The SeaTable and SeaTable FAAS Scheduler host communicate via their hostnames.  For illustrative purposes, these deployment instructions use the hostnames ...</p>
<ul>
<li>cloud.seatable.com for SeaTable and</li>
<li>faas.seatable.com for SeaTable FAAS Scheduler.</li>
</ul>
<p>Additionally, the following assumptions and conventions are used in the rest of this document:</p>
<ul>
<li>SeaTable Server - SeaTable Developer Edition or SeaTable Enterprise Edition - was installed according to this manual.</li>
<li><code>/opt/seatable-python-runner</code> and <code>/opt/seatable-faas-scheduler</code> are the directories of the Python Runner and FAAS Scheduler, respectively. If you decide to put them in different directories - which you can - adjust all paths accordingly. </li>
<li>SeaTable FAAS Scheduler uses two <a href="https://docs.docker.com/storage/volumes/">Docker volumes</a> for persisting data generated in its database and SeaTable FAAS Scheduler Docker container. The volumes' <a href="https://docs.docker.com/compose/compose-file/compose-file-v2/#volumes">host paths</a> are /opt/seatable-faas-scheduler/mysql-data and /opt/seatable-faas-scheduler/shared,  respectively.  It is not recommended to change these paths. If you do,  keep that in mind when following these instructions.</li>
<li>All configuration and log files for SeaTable and the webserver Nginx are stored in the volume of the SeaTable FAAS Scheduler container.</li>
</ul>
<h2 id="setup-of-seatable-python-runner">Setup of SeaTable Python Runner<a class="headerlink" href="#setup-of-seatable-python-runner" title="Permanent link">&para;</a></h2>
<h3 id="downloading-the-python-runner-package">Downloading the Python Runner Package<a class="headerlink" href="#downloading-the-python-runner-package" title="Permanent link">&para;</a></h3>
<p>Download the install package from <a href="https://github.com/seatable/seatable-admin-docs/releases">Github</a> using wget and unzip the archive. Delete the ZIP file after unzipping. Using Python Runner version 2.0.1 as an example, this are the commands:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> /opt
wget https://github.com/seatable/seatable-admin-docs/releases/download/seatable-python-runner-2.0.1/seatable-python-runner-2.0.1.zip
unzip seatable-python-runner-2.0.1.zip
rm seatable-python-runner-2.0.1.zip
</code></pre></div>
<h3 id="installing-the-prerequisites">Installing the Prerequisites<a class="headerlink" href="#installing-the-prerequisites" title="Permanent link">&para;</a></h3>
<p>SeaTable's Python Runner uses some pip packages. Install pip first:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># CentOS</span>
sudo yum install python3-pip -y

<span class="c1"># Debian/Ubuntu</span>
sudo apt install python3-pip -y
</code></pre></div>
<p>Then install the pip packages:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> /opt/seatable-python-runner
sudo pip3 install -r server_requirements.txt
</code></pre></div>
<h3 id="downloading-the-python-runner-docker-image">Downloading the Python Runner Docker Image<a class="headerlink" href="#downloading-the-python-runner-docker-image" title="Permanent link">&para;</a></h3>
<p>Pull the image for SeaTable's Python Runner from Docker Hub:</p>
<div class="highlight"><pre><span></span><code>docker pull seatable/python-runner:latest
</code></pre></div>
<p>You can find all versions of Python Runner images in <a href="https://hub.docker.com/r/seatable/python-runner/tags">Docker repository</a>.</p>
<h3 id="initializing-python-runner">Initializing Python Runner<a class="headerlink" href="#initializing-python-runner" title="Permanent link">&para;</a></h3>
<p>Initialize the Python Runner by running the init script:</p>
<div class="highlight"><pre><span></span><code>sudo ./init.sh
</code></pre></div>
<h3 id="modifying-the-configuration-file">Modifying the Configuration File<a class="headerlink" href="#modifying-the-configuration-file" title="Permanent link">&para;</a></h3>
<p>Open the Python Runner's conf file in an editor and add the address of SeaTable's FAAS Scheduler to the configuration:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> /opt/seatable-python-runner/conf
nano seatable_python_runner_settings.py
</code></pre></div>
<p>Edit the configuration as follows:</p>
<div class="highlight"><pre><span></span><code><span class="n">SCHEDULER_URL</span> <span class="o">=</span> <span class="s1">&#39;https://faas.seatable.com&#39;</span>  <span class="c1"># The URL of seatable-faas-scheduler, if you use an IP address, please add http://</span>
</code></pre></div>
<h3 id="starting-seatable-python-runner">Starting SeaTable Python Runner<a class="headerlink" href="#starting-seatable-python-runner" title="Permanent link">&para;</a></h3>
<p>Start SeaTable Python Runner using the SH-script:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> /opt/seatable-python-runner
sudo ./start.sh
</code></pre></div>
<p>After the execution of the start script, the directory structure looks as follows:</p>
<div class="highlight"><pre><span></span><code>$ tree /opt/seatable-python-runner/ -L <span class="m">2</span>
/opt/seatable-python-runner/
├── conf
│   ├── seatable_python_runner.ini
│   └── seatable_python_runner_settings.py
├── <span class="k">function</span>.py
├── init.sh
├── logs
│   ├── seatable-python-runner.log
│   └── uwsgi.log
├── server_requirements.txt
├── settings.py
├── start.sh
├── stop.sh
└── uwsgi.ini
</code></pre></div>
<p>The stop command is as follows:</p>
<div class="highlight"><pre><span></span><code>sudo ./stop.sh
</code></pre></div>
<p>NOTE: The start and stop scripts are a collection of a series of operations, you can edit it according to your needs.</p>
<h3 id="tweaking-the-python-runner">Tweaking the Python Runner<a class="headerlink" href="#tweaking-the-python-runner" title="Permanent link">&para;</a></h3>
<h4 id="uwsgi-configuration">uWSGI configuration<a class="headerlink" href="#uwsgi-configuration" title="Permanent link">&para;</a></h4>
<p>The SeaTable Python Runner uses uWSGI. uWSGI's configuration is saved in the INI-file <code>seatable_python_runner.ini</code> in <code>/opt/seatable-python-runner/conf</code>.</p>
<p>The default configuration for SeaTable Python Runner 2.0.1 is:</p>
<div class="highlight"><pre><span></span><code><span class="k">[uwsgi]</span>
<span class="na">http</span> <span class="o">=</span> <span class="s">:8080</span>
<span class="na">wsgi-file</span> <span class="o">=</span> <span class="s">function.py</span>
<span class="na">callable</span> <span class="o">=</span> <span class="s">app</span>
<span class="na">process</span> <span class="o">=</span> <span class="s">4</span>
<span class="na">threads</span> <span class="o">=</span> <span class="s">2</span>
<span class="na">buffer-size</span> <span class="o">=</span> <span class="s">65536</span>
<span class="na">stats</span> <span class="o">=</span> <span class="s">127.0.0.1:9191</span>
<span class="na">daemonize</span> <span class="o">=</span> <span class="s">logs/uwsgi.log</span>
<span class="na">disable-logging</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">procname-prefix</span> <span class="o">=</span> <span class="s">run-python</span>
<span class="na">logformat</span> <span class="o">=</span> <span class="s">[%(ltime)] %(method) %(uri) =&gt; generated %(size) bytes in %(secs) seconds</span>
</code></pre></div>
<p>NOTE: The configuration may look different for other versions of SeaTable Python Runner.</p>
<h2 id="setup-seatable-faas-scheduler">Setup SeaTable FAAS Scheduler<a class="headerlink" href="#setup-seatable-faas-scheduler" title="Permanent link">&para;</a></h2>
<h3 id="installing-docker-compose">Installing Docker Compose<a class="headerlink" href="#installing-docker-compose" title="Permanent link">&para;</a></h3>
<p>Scheduler uses Docker Dompose. Install the docker-compose package:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># CentOS</span>
sudo yum install docker-compose -y

<span class="c1"># Debian/Ubuntu</span>
sudo apt-get install docker-compose -y
</code></pre></div>
<h3 id="downloading-the-fass-scheduler-image">Downloading the FASS Scheduler Image<a class="headerlink" href="#downloading-the-fass-scheduler-image" title="Permanent link">&para;</a></h3>
<p>Pull the image for SeaTable's FAAS Scheduler from Docker Hub:</p>
<div class="highlight"><pre><span></span><code>docker pull seatable/seatable-faas-scheduler:latest
</code></pre></div>
<p>You can find all versions of SeaTable FAAS Scheduler images in the <a href="https://hub.docker.com/r/seatable/seatable-faas-scheduler/tags">Docker repository</a>.</p>
<h3 id="downloading-and-modifying-docker-composeyml">Downloading and Modifying docker-compose.yml<a class="headerlink" href="#downloading-and-modifying-docker-composeyml" title="Permanent link">&para;</a></h3>
<p>Download the <a href="../docker-compose.yml">docker-compose.yml</a> sample file to the FAAS Scheduler's directory and modify the file to fit your environment and settings:</p>
<div class="highlight"><pre><span></span><code>mkdir /opt/seatable-faas-scheduler
<span class="nb">cd</span> /opt/seatable-faas-scheduler
wget -O <span class="s2">&quot;docker-compose.yml&quot;</span> <span class="s2">&quot;https://manual.seatable.io/docker/Python-Runner/docker-compose.yml&quot;</span>
nano docker-compose.yml
</code></pre></div>
<p>The following options must be modified:</p>
<ul>
<li>The password of MariaDB root (MYSQL_ROOT_PASSWORD and DB_ROOT_PASSWD)</li>
<li>The use of Let's Encrypt for HTTPS (SEATABLE_FAAS_SCHEDULER_SERVER_LETSENCRYPT)</li>
<li>The host name (SEATABLE_FAAS_SCHEDULER_SERVER_HOSTNAME)</li>
</ul>
<p>Optional customizable option in the docker-compose.yml are:</p>
<ul>
<li>The ports of the container seatable-faas-scheduler</li>
<li>The volume paths for the container db</li>
<li>The volume paths for the container seatable-faas-scheduler</li>
<li>
<p>The image tag of the SeaTable FAAS Scheduler version to install (image)</p>
</li>
<li>
<p>The time zone (Optional)</p>
</li>
</ul>
<h3 id="initializing-the-database">Initializing the Database<a class="headerlink" href="#initializing-the-database" title="Permanent link">&para;</a></h3>
<p>Initialize the database with the following command:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> /opt/seatable-faas-scheduler
docker-compose up
</code></pre></div>
<p>NOTE: You should run the above command in a directory with the <code>docker-compose.yml</code>.</p>
<p>Wait for a while. When you see <code>This is an idle script (infinite loop) to keep container running.</code>  in the output log, the database initialized successfully. Press keyboard <code>CTRL + C</code>  to return to the prompt.</p>
<p>The directory structure should now look as follows (slightly shortend):</p>
<div class="highlight"><pre><span></span><code>$ tree /opt/seatable-faas-scheduler -L 2
/opt/seatable-faas-scheduler
├── docker-compose.yml
├── mysql-data
├── shared
│   ├── seatable-faas-scheduler
│   │   ├── conf     (configuration files)
│   │   ├── scripts  (script files)
│   │   └── logs     (log files)
│   ├── nginx-logs   (Nginx logs)
│   └── ssl          (SSL certificate)
</code></pre></div>
<h3 id="modifying-the-configuration-file-of-the-faas-scheduler">Modifying the Configuration File of the FAAS Scheduler<a class="headerlink" href="#modifying-the-configuration-file-of-the-faas-scheduler" title="Permanent link">&para;</a></h3>
<p>Being the middle component between the SeaTable server and the Python Runner, the FAAS Scheduler's configuration must be added the addresses of both.</p>
<p>Open the FAAS Scheduler's configuration file in a text editor:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> /opt/seatable-faas-scheduler/shared/seatable-faas-scheduler/conf
nano seatable_faas_scheduler_settings.py
</code></pre></div>
<p>Edit the configuration as follows:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># faas</span>
<span class="n">FAAS_URL</span> <span class="o">=</span> <span class="s1">&#39;http://host.docker.internal:8080           # Internal address of the Python Runner</span>

<span class="c1"># seatable</span>
<span class="n">DTABLE_WEB_SERVICE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://cloud.seatable.com&#39;</span>  <span class="c1"># URL of SeaTable server</span>
<span class="n">SEATABLE_FAAS_AUTH_TOKEN</span> <span class="o">=</span> <span class="s1">&#39;***&#39;</span>                       <span class="c1"># Token to copy to SeaTable&#39;s configuration file</span>
</code></pre></div>
<h3 id="starting-the-faas-scheduler">Starting the FAAS Scheduler<a class="headerlink" href="#starting-the-faas-scheduler" title="Permanent link">&para;</a></h3>
<p>Now start the SeaTable FAAS Scheduler in detached mode:</p>
<div class="highlight"><pre><span></span><code>docker-compose up -d
</code></pre></div>
<p>NOTE: You should run the above command in the directory with the <code>docker-compose.yml</code>.</p>
<h3 id="modifying-the-configuration-file-of-seatable">Modifying the Configuration File of SeaTable<a class="headerlink" href="#modifying-the-configuration-file-of-seatable" title="Permanent link">&para;</a></h3>
<p>Open SeaTable's <code>dtable_web_setttings.py</code> configuration file in a text editor to add the FAAS Scheduler's address:</p>
<div class="highlight"><pre><span></span><code>nano /opt/seatable/seatable-data/seatable/conf/dtable_web_settings.py
</code></pre></div>
<p>Paste the following lines in the configuration file, paste the token from the <code>seatable_faas_scheduler_settings.py</code> and modify the parameter SEATABLE_FAAS_URL:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># for seatable-faas</span>
<span class="n">SEATABLE_FAAS_AUTH_TOKEN</span> <span class="o">=</span> <span class="s1">&#39;***&#39;</span>                        <span class="c1"># Token from seatable_faas_scheduler_settings.py</span>
<span class="n">SEATABLE_FAAS_URL</span> <span class="o">=</span> <span class="s1">&#39;https://faas.seatable.com&#39;</span>         <span class="c1"># URL of the SeaTable FAAS Scheduler</span>
</code></pre></div>
<h3 id="restarting-seatable">Restarting SeaTable<a class="headerlink" href="#restarting-seatable" title="Permanent link">&para;</a></h3>
<p>For the modifications in the <code>dtable_web_settings.py</code> to take effect, restart the SeaTable server:</p>
<div class="highlight"><pre><span></span><code>docker <span class="nb">exec</span> -d seatable /shared/seatable/scripts/seatable.sh restart
</code></pre></div>
<h3 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">&para;</a></h3>
<p>Create a simple Python script in SeaTable. The simplest is a hello world:</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello World!&quot;</span><span class="p">)</span>
</code></pre></div>
<p>If the output console prints "Hello World!", you have successfully configured SeaTable's Python script execution environment.</p>
<h3 id="more-configuration-options-of-scheduler">More Configuration Options of Scheduler<a class="headerlink" href="#more-configuration-options-of-scheduler" title="Permanent link">&para;</a></h3>
<h4 id="deploy-the-https">Deploy the https<a class="headerlink" href="#deploy-the-https" title="Permanent link">&para;</a></h4>
<ul>
<li>Let's encrypt SSL certificate</li>
</ul>
<p>If you set <code>SEATABLE_FAAS_SCHEDULER_SERVER_LETSENCRYPT</code> to <code>true</code> in "docker-compose.yml", the container would request a letsencrypt-signed SSL certificate for you automatically.</p>
<p>e.g.</p>
<div class="highlight"><pre><span></span><code>seatable-faas-scheduler:
  ...
  ports:
    - &quot;80:80&quot;
    - &quot;443:443&quot;
    ...
  environment:
    ...
    - SEATABLE_FAAS_SCHEDULER_SERVER_LETSENCRYPT=True  # Default is False. Whether to use let&#39;s encrypt certificate.
    - SEATABLE_FAAS_SCHEDULER_SERVER_HOSTNAME=demo.faas-scheduler.seatable.com  # Specifies your host name if https is enabled
</code></pre></div>
<p><strong>Note</strong>：Since the nginx configuration file is only generated automatically when you run the container for the first time, you'd better set <code>SEATABLE_FAAS_SCHEDULER_SERVER_HOSTNAME=True</code> before executing the <code>docker-compose up -d</code> command for the first time.</p>
<p>If you want to use your own SSL certificate, you can refer to the following steps.</p>
<ul>
<li>Add your own SSL certificate</li>
<li>Upload the SSL certificate file to the Scheduler data directory : <code>/Your Scheduler data volume/ssl/</code></li>
<li>Modify the nginx configuration file : <code>/Your Scheduler data volume/seatable-faas-scheduler/conf/nginx.conf</code></li>
<li>Reload the Nginx configuration file：<code>docker exec -it seatable-faas-scheduler /usr/sbin/nginx -s reload</code></li>
</ul>
<p>e.g.</p>
<div class="highlight"><pre><span></span><code><span class="k">server</span> <span class="p">{</span>
    <span class="kn">if</span> <span class="s">(</span><span class="nv">$host</span> <span class="p">=</span> <span class="s">demo.faas-scheduler.seatable.com)</span> <span class="p">{</span>
        <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">demo.faas-scheduler.seatable.com</span><span class="p">;</span>
    <span class="kn">return</span> <span class="mi">404</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
    <span class="kn">server_name</span> <span class="s">demo.faas-scheduler.seatable.com</span><span class="p">;</span>

    <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
    <span class="kn">ssl_certificate</span> <span class="s">/shared/ssl/&lt;your-ssl.cer&gt;</span><span class="p">;</span>
    <span class="kn">ssl_certificate_key</span> <span class="s">/shared/ssl/&lt;your-ssl.key&gt;</span><span class="p">;</span>

    <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-For</span> <span class="nv">$remote_addr</span><span class="p">;</span>
    <span class="kn">......</span>
</code></pre></div>
<h3 id="python-runner-and-faas-scheduler-faq">Python Runner and FAAS Scheduler FAQ<a class="headerlink" href="#python-runner-and-faas-scheduler-faq" title="Permanent link">&para;</a></h3>
<p><strong>If, for whatever reason, the installation fails, how to start from a clean state again?</strong></p>
<p>Remove the directory <code>/opt/seatable-faas-scheduler</code> and start again.</p>
<p><strong>What's the reason for the following output in SeaTable's Python?</strong></p>
<div class="highlight"><pre><span></span><code>error: Internal Server Error.
at e/&lt;/&lt; 
</code></pre></div>
<p>SeaTable cannot communicate with the FAAS Scheduler. Check the configuration and start the FAAS Scheduler via docker-compose.</p>
<p><strong>What's the reasons when the Hello World example to not complete and only outputting?</strong></p>
<div class="highlight"><pre><span></span><code>Running...
</code></pre></div>
<p>The FAAS Scheduler cannot communicate with the Python Runner. Check the configuration and start the FAAS Scheduler via the SH-script.</p>
<p><strong>The Let's Encrypt SSL certificate is about to expire, how do I renew it?</strong></p>
<p>The SSL certificate shoud be renewed automatically 30 days prior to it expiration. If the automatic renewal fails, this command renews the certificate manually:</p>
<div class="highlight"><pre><span></span><code>docker exec -it seatable-faas-scheduler /scripts/renew_cert.sh
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../Cluster/SeaTable%20Cluster/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Cluster" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Cluster
            </div>
          </div>
        </a>
      
      
        
        <a href="../Update%20SeaTable%20Python%20Runner/" class="md-footer__link md-footer__link--next" aria-label="Next: Upgrading" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Upgrading
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020, 2021 SeaTable
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/seatable/seatable-admin-docs" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
    
  </body>
</html>